

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS AI | ENTERPRISE MASTER V13</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --neon: #00f2ff; --bg: #05070a; --card: #0f121a; --vip: #ffcc00; --admin: #7000ff; --pink: #ff00ff; }
        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; margin: 0; padding: 10px; overflow-x: hidden; }
        .dashboard { max-width: 1400px; margin: auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 15px; }
        .card { background: var(--card); border: 1px solid #1a1e26; border-radius: 20px; padding: 25px; position: relative; }
        
        .btn-prime { width: 100%; padding: 15px; border-radius: 10px; border: none; background: linear-gradient(45deg, var(--admin), var(--neon)); color: white; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        .btn-gold { background: linear-gradient(45deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c); color: black; }
        
        input, select { width: 100%; padding: 15px; border-radius: 10px; border: 1px solid #222; background: #000; color: var(--neon); margin-bottom: 12px; box-sizing: border-box; }

        /* Overlays */
        #pricingPage, #adminPanel { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 2000; overflow-y: auto; padding: 20px; box-sizing: border-box; }
        .bank-card { background: #111; border: 1px solid #333; padding: 15px; border-radius: 12px; margin-bottom: 10px; font-size: 13px; text-align: left; }
        
        /* Feedback Buttons */
        .feedback-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; flex-direction: column; justify-content: center; align-items: center; border-radius: 20px; z-index: 100; }
        .f-btn { width: 80%; padding: 15px; margin: 5px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; }

        .stat-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; text-align: center; margin-top: 10px; }
    </style>
</head>
<body>

<div id="pricingPage">
    <h1 style="color:var(--vip); text-align:center;">üíé NEXUS VIP PREMIUM</h1>
    <div class="dashboard" style="max-width: 800px;">
        <div class="card" style="border-color: var(--vip);">
            <h3>SELECT PACKAGE</h3>
            <p>01 Day Pro - LKR 1,000</p>
            <p>07 Day Pro - LKR 2,000</p>
            <p>01 Month Pro - LKR 5,000</p>
            <p>01 Year Pro - LKR 25,000</p>
            <p style="color:var(--vip);">LIFETIME - LKR 50,000</p>
        </div>
        <div class="card">
            <h3>BANK DETAILS</h3>
            <div class="bank-card"><b>BOC:</b> 93015029 (K.M.I.T. BANDARA) - Talawa</div>
            <div class="bank-card"><b>Sampath:</b> 120352053430 (G.M.D. JAYARATHNA)</div>
            <div class="bank-card"><b>Commercial:</b> 8080031546 (K.M.I.T. BANDARA)</div>
            <div class="bank-card"><b>iPay/Online:</b> 0781783100 (Name: BANDARA)</div>
            <input type="text" id="payID" placeholder="Enter Transaction ID / Reference">
            <button class="btn-prime btn-gold" onclick="submitReceipt()">SUBMIT & WHATSAPP RECEIPT</button>
            <button onclick="document.getElementById('pricingPage').style.display='none'" style="margin-top:10px; background:none; border:none; color:#555; cursor:pointer;">Back to Dashboard</button>
        </div>
    </div>
</div>

<div id="adminPanel">
    <h1 style="color:var(--admin); text-align:center;">NEXUS COMMAND CENTER</h1>
    <div class="card" style="max-width: 600px; margin: auto;">
        <select id="keyType">
            <option value="1">1 Day</option><option value="7">7 Days</option>
            <option value="30">1 Month</option><option value="365">1 Year</option>
            <option value="9999">Lifetime</option>
        </select>
        <button class="btn-prime" onclick="generateKey()">GENERATE VIP KEY</button>
        <input type="text" id="genKeyDisplay" readonly placeholder="Generated Key...">
        <input type="text" id="broadcastMsg" placeholder="Global Message...">
        <button class="btn-prime" style="background:#333;" onclick="sendAlert()">BROADCAST</button>
        <button onclick="document.getElementById('adminPanel').style.display='none'" class="btn-prime" style="margin-top:20px;">Exit Admin</button>
    </div>
</div>

<div style="text-align:center;">
    <h1 style="color:var(--neon); letter-spacing:3px; margin:0;">NEXUS AI MASTER</h1>
    <div id="market" style="color:#00ff80; border:1px solid #00ff80; padding:5px 15px; border-radius:50px; display:inline-block; font-size:11px; margin:10px 0;">LIVE SYNC ACTIVE</div>
</div>

<div class="dashboard">
    <div class="card" id="engineCard">
        <div class="feedback-overlay" id="fOverlay">
            <h3 style="color:var(--neon);">CONFIRM RESULT</h3>
            <button class="f-btn" style="background:#00ff80;" onclick="submitFeedback('win')">WIN ‚úÖ</button>
            <button class="f-btn" style="background:#ff3e3e;" onclick="submitFeedback('loss')">LOSS ‚ùå</button>
            <button class="f-btn" style="background:#555;" onclick="submitFeedback('not_bet')">DID NOT BET ‚ö†Ô∏è</button>
        </div>
        <div id="statusBadge" style="position:absolute; top:15px; right:15px; font-size:10px; color:var(--vip);">LOCKED</div>
        <h3>SIGNAL ENGINE</h3>
        <div id="lockUI">
            <button class="btn-prime btn-gold" onclick="document.getElementById('pricingPage').style.display='block'">üöÄ UNLOCK VIP SIGNALS</button>
            <p style="font-size:10px; color:gray; text-align:center; margin-top:10px;">Or contribute 30 rounds below.</p>
        </div>
        <div id="mainUI" style="display:none;">
            <button class="btn-prime" onclick="runAI()">GENERATE 5x - 9x SIGNAL</button>
            <div id="resArea" style="display:none; text-align:center; margin-top:15px;">
                <span id="sigOut" style="font-size:48px; font-weight:900;">---</span>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="hot-box">
            <h4 style="margin:0; color:var(--pink);">üî• BIG WIN PREDICTOR</h4>
            <div id="bigWinTime" style="font-size:28px; font-weight:bold;">--:--</div>
            <div id="bigWinType" style="font-size:10px; color:#888;">MINING DATA...</div>
        </div>
        <h3>FREE SIGNAL MINING</h3>
        <input type="text" id="miningInput" placeholder="Add Odds (Ex: 1.25, 20.4)">
        <button class="btn-prime" style="background:var(--pink);" onclick="mineData()">ADD DATA</button>
        <div class="stat-grid">
            <div><small>30 Rnds</small><br><b id="u30">Locked</b></div>
            <div><small>50 Rnds</small><br><b id="u50">Locked</b></div>
            <div><small>100 Rnds</small><br><b id="u100">Locked</b></div>
        </div>
    </div>

    <div class="card">
        <h3>GLOBAL LIVE FEED</h3>
        <div id="globalWins" style="height:150px; overflow-y:auto; background:#000; border-radius:10px; padding:10px; font-size:11px;">
            <p style="color:gray;">Waiting for global updates...</p>
        </div>
    </div>
</div>

<p onclick="showAdmin()" style="text-align:center; font-size:10px; color:#222; cursor:pointer; margin-top:40px;">- ADMINISTRATION -</p>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyD940gcjyowMQhMerqOPcFHIGahCybMxPM",
        authDomain: "nexus-ai-a5dd7.firebaseapp.com",
        databaseURL: "https://nexus-ai-a5dd7-default-rtdb.firebaseio.com",
        projectId: "nexus-ai-a5dd7",
        storageBucket: "nexus-ai-a5dd7.firebasestorage.app",
        messagingSenderId: "754990038696",
        appId: "1:754990038696:web:45b40bc9d02e890e8a0c9d"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let totalRounds = 0;
    let isVip = false;

    function mineData() {
        let val = document.getElementById('miningInput').value;
        if(!val) return;
        let nums = val.split(',').map(Number);
        totalRounds += nums.length;
        
        // Predictor Logic
        let max = Math.max(...nums);
        let now = new Date();
        if(max >= 20) {
            let winTime = new Date(now.getTime() + 3 * 60000);
            document.getElementById('bigWinTime').innerText = winTime.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
            document.getElementById('bigWinType').innerText = `NEXT ${max}+ BIG WIN WINDOW`;
        }

        // Tier Unlock
        if(totalRounds >= 30) { document.getElementById('u30').innerText="OPEN"; unlock(); }
        if(totalRounds >= 50) document.getElementById('u50').innerText="OPEN (3 Sig)";
        if(totalRounds >= 100) document.getElementById('u100').innerText="OPEN (Unlimited)";

        db.ref('mining').push({nums, timestamp: Date.now()});
        document.getElementById('miningInput').value = "";
    }

    function unlock() {
        document.getElementById('lockUI').style.display = 'none';
        document.getElementById('mainUI').style.display = 'block';
        document.getElementById('statusBadge').innerText = "UNLOCKED";
    }

    function runAI() {
        document.getElementById('resArea').style.display = 'block';
        let res = (Math.random() * (9.5 - 5.0) + 5.0).toFixed(2);
        document.getElementById('sigOut').innerText = res + "x";
        document.getElementById('fOverlay').style.display = 'flex';
    }

    function submitFeedback(res) {
        document.getElementById('fOverlay').style.display = 'none';
        document.getElementById('resArea').style.display = 'none';
        if(res !== 'not_bet') {
            db.ref('global_wins').push({id: "NX-"+Math.floor(Math.random()*999), res, time: Date.now()});
        }
    }

    function submitReceipt() {
        let id = document.getElementById('payID').value;
        if(!id) return alert("Please enter Transaction ID");
        window.open(`https://wa.me/94762664220?text=Hi, I paid. ID: ${id}`);
    }

    // Live Feed
    db.ref('global_wins').limitToLast(10).on('child_added', snap => {
        let d = snap.val();
        let p = document.createElement('p');
        p.innerHTML = `<span style="color:var(--neon)">${d.id}</span> confirmed a <b style="color:#00ff80">${d.res.toUpperCase()}</b>`;
        document.getElementById('globalWins').prepend(p);
    });

    // Admin Panel
    function showAdmin() { if(prompt("Pass:") === "nexus77") document.getElementById('adminPanel').style.display = "block"; }
    function generateKey() {
        let k = "NX-" + Math.random().toString(36).substr(2, 8).toUpperCase();
        let days = document.getElementById('keyType').value;
        db.ref('keys/'+k).set({days, expiry: Date.now() + (days * 86400000)});
        document.getElementById('genKeyDisplay').value = k;
    }
</script>
</body>
</html>
